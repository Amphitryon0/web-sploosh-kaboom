(this.webpackJsonpsplooshkaboom=this.webpackJsonpsplooshkaboom||[]).push([[0],{18:function(e,t,n){e.exports=n(39)},23:function(e,t,n){},25:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var a,r=n(0),i=n.n(r),o=n(16),s=n.n(o),l=(n(23),n(12)),u=n(14),c=n(13),d=n(1),m=n.n(d),p=n(10),h=n(3),f=n(2),b=n(5),g=n(6),y=n(8),v=n(7),S=n(4),k=(n(25),n(17)),E=n.n(k),w=null;var x=0;function T(e,t){var n=t(1*e.length);return(null!==w&&w.buffer===a.memory.buffer||(w=new Uint8Array(a.memory.buffer)),w).set(e,n/1),x=e.length,n}var C=null;function R(e,t){var n=t(4*e.length);return(null!==C&&C.buffer===a.memory.buffer||(C=new Uint32Array(a.memory.buffer)),C).set(e,n/4),x=e.length,n}var B=null;function M(){return null!==B&&B.buffer===a.memory.buffer||(B=new Float64Array(a.memory.buffer)),B}function j(e,t){var n=t(8*e.length);return M().set(e,n/8),x=e.length,n}var O=null;function _(){return null!==O&&O.buffer===a.memory.buffer||(O=new Int32Array(a.memory.buffer)),O}function I(e,t){return M().subarray(e/8,e/8+t)}function A(e,t,n,r,i){var o=T(e,a.__wbindgen_malloc),s=x,l=T(t,a.__wbindgen_malloc),u=x,c=R(r,a.__wbindgen_malloc),d=x,m=j(i,a.__wbindgen_malloc),p=x;a.calculate_probabilities_with_board_constraints(8,o,s,l,u,n,c,d,m,p);var h,f=_()[2],b=_()[3];return 0!==f&&(h=I(f,b).slice(),a.__wbindgen_free(f,8*b)),h}function G(e,t,n,r,i,o){var s=T(e,a.__wbindgen_malloc),l=x,u=T(t,a.__wbindgen_malloc),c=x,d=R(r,a.__wbindgen_malloc),m=x,p=R(i,a.__wbindgen_malloc),h=x,f=j(o,a.__wbindgen_malloc),b=x;a.calculate_probabilities_from_game_history(8,s,l,u,c,n,d,m,p,h,f,b);var g,y=_()[2],v=_()[3];return 0!==y&&(g=I(y,v).slice(),a.__wbindgen_free(y,8*v)),g}function z(e,t,n,r){var i=T(e,a.__wbindgen_malloc),o=x,s=R(t,a.__wbindgen_malloc),l=x,u=R(n,a.__wbindgen_malloc),c=x,d=j(r,a.__wbindgen_malloc),m=x;a.disambiguate_final_board(8,i,o,s,l,u,c,d,m);var p=_()[2],h=_()[3];return 0===p?void 0:h>>>0}function L(e){var t=R(e,a.__wbindgen_malloc),n=x;a.set_board_table(t,n)}function q(e,t){return F.apply(this,arguments)}function F(){return(F=Object(f.a)(m.a.mark((function e(t,n){var a,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!("function"===typeof Response&&t instanceof Response)){e.next=23;break}if("function"!==typeof WebAssembly.instantiateStreaming){e.next=15;break}return e.prev=2,e.next=5,WebAssembly.instantiateStreaming(t,n);case 5:return e.abrupt("return",e.sent);case 8:if(e.prev=8,e.t0=e.catch(2),"application/wasm"==t.headers.get("Content-Type")){e.next=14;break}console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",e.t0),e.next=15;break;case 14:throw e.t0;case 15:return e.next=17,t.arrayBuffer();case 17:return a=e.sent,e.next=20,WebAssembly.instantiate(a,n);case 20:return e.abrupt("return",e.sent);case 23:return e.next=25,WebAssembly.instantiate(t,n);case 25:if(!((r=e.sent)instanceof WebAssembly.Instance)){e.next=30;break}return e.abrupt("return",{instance:r,module:t});case 30:return e.abrupt("return",r);case 31:case"end":return e.stop()}}),e,null,[[2,8]])})))).apply(this,arguments)}function H(e){return D.apply(this,arguments)}function D(){return(D=Object(f.a)(m.a.mark((function e(t){var n,r,i,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},("string"===typeof t||"function"===typeof Request&&t instanceof Request||"function"===typeof URL&&t instanceof URL)&&(t=fetch(t)),e.t0=q,e.next=5,t;case 5:return e.t1=e.sent,e.t2=n,e.next=9,(0,e.t0)(e.t1,e.t2);case 9:return r=e.sent,i=r.instance,o=r.module,a=i.exports,H.__wbindgen_wasm_module=o,e.abrupt("return",a);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var U=H,N=n(29),P=null,K=window.indexedDB.open("splooshkaboom",1);function W(e,t){if(null!==P){var n=P.transaction(["sk"],"readwrite");n.oncomplete=function(e){},n.onerror=function(e){alert("Transaction error!")},n.objectStore("sk").add(t,e).onsuccess=function(e){}}}function V(e){return new Promise((function(t,n){var a=P.transaction(["sk"]);a.oncomplete=function(e){},a.onerror=function(e){alert("Transaction error!")};var r=a.objectStore("sk").get(e);r.onsuccess=function(e){t(e.target.result)},r.onerror=function(e){n()}}))}K.onerror=function(e){alert("Failed to access IndexedDB.")},K.onsuccess=function(e){(P=e.target.result).onerror=function(e){alert("IndexedDB error: "+e.target.errorCode)}},K.onupgradeneeded=function(e){e.target.result.createObjectStore("sk")};var J=N(["#004","#070","#090","#0b0","#0d0","#0f0","#6f6"]),Z=function(e){return Object(S.a)(Array(e).keys())},X=function(e){Object(y.a)(n,e);var t=Object(v.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(g.a)(n,[{key:"render",value:function(){var e=null!==this.props.best&&this.props.best[0]===this.props.x&&this.props.best[1]===this.props.y,t=this.props.backgroundColor;return void 0===t&&(t=null===this.props.text?J(this.props.prob):"HIT"===this.props.text?"#a2a":"#44a"),i.a.createElement("div",{key:this.props.x+","+this.props.y,style:{display:"flex",justifyContent:"center",alignItems:"center",textAlign:"center",width:"70px",height:"70px",border:this.props.valid?"1px solid grey":"1px solid red",outline:e?"4px solid yellow":"",zIndex:e?1:0,fontFamily:"monospace",userSelect:"none",MozUserSelect:"none",WebkitUserSelect:"none",msUserSelect:"none",color:"white",fontSize:this.props.fontSize,opacity:this.props.opacity,backgroundColor:t},onClick:this.props.onClick},null===this.props.text?(100*this.props.prob).toFixed(this.props.precision)+"%":this.props.text)}}]),n}(i.a.Component),Y=U("/web-sploosh-kaboom/sploosh_wasm_bg.wasm"),Q=null;function $(e,t){return ee.apply(this,arguments)}function ee(){return(ee=Object(f.a)(m.a.mark((function e(t,n){var a,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(){var e=new XMLHttpRequest;return e.open("GET","/web-sploosh-kaboom"+t,!0),e.responseType="arraybuffer",e.onload=function(a){W(t,e.response),n(e.response)},e.send(),null},e.next=3,V(t).catch(a);case 3:if(void 0!==(r=e.sent)){e.next=7;break}return a(),e.abrupt("return");case 7:if(null!==r){e.next=9;break}return e.abrupt("return");case 9:n(r);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function te(){return ne.apply(this,arguments)}function ne(){return(ne=Object(f.a)(m.a.mark((function e(){var t,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=function(){var e=ae();return W("boardIndicesTable",e),e},e.next=3,V("boardIndicesTable").catch(t);case 3:if(void 0!==(n=e.sent)){e.next=6;break}return e.abrupt("return",t());case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ae(){for(var e=[],t=0;t<8;t++)for(var n=0;n<8;n++)for(var a=0,r=[!1,!0];a<r.length;a++){var i=r[a];e.push({x:n,y:t,direction:i})}var o=[],s={};function l(e,t,n){for(var a=0;a<n;a++){var r=t.x,i=t.y;if(t.direction?r+=a:i+=a,r>=8||i>=8)return;e[r+8*i]=n}}for(var u=new Array(64).fill(0),c=0,d=e;c<d.length;c++){var m,p=d[c],f=Object(h.a)(e);try{for(f.s();!(m=f.n()).done;){var b,g=m.value,y=Object(h.a)(e);try{for(y.s();!(b=y.n()).done;){var v=b.value;u.fill(0),l(u,p,2),l(u,g,3),l(u,v,4);var S,k=0,E=Object(h.a)(u);try{for(E.s();!(S=E.n()).done;){k+=S.value}}catch(C){E.e(C)}finally{E.f()}29===k&&o.push(Array.from(u))}}catch(C){y.e(C)}finally{y.f()}}}catch(C){f.e(C)}finally{f.f()}}for(var w=0,x=0,T=o;x<T.length;x++){s[T[x].map((function(e){return 0===e?".":e})).join("")]=w,w++}return s}function re(){for(var e="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",t=new Uint8Array(1);;){crypto.getRandomValues(t);var n=63&t[0];if(n<e.length)return e[n]}}function ie(e){for(var t="",n=0;n<e;n++)t+=re();return t}var oe="http://ec2-34-223-48-61.us-west-2.compute.amazonaws.com:1234",se=null,le=-1;function ue(e){return ce.apply(this,arguments)}function ce(){return(ce=Object(f.a)(m.a.mark((function e(t){var n,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==se&&null!==Q){e.next=2;break}return e.abrupt("return");case 2:if(se.state.loggedIn){e.next=4;break}return e.abrupt("return");case 4:if(Q.state.spywareMode){e.next=6;break}return e.abrupt("return");case 6:return t.timestamp=(new Date).getTime()/1e3,le++,n=JSON.stringify({username:se.state.username,token:se.state.token,session:se.session,events:Object(l.a)({},le,t)}),e.next=11,fetch(oe+"/write",{method:"POST",headers:{"Content-Type":"application/json"},body:n});case 11:a=e.sent,se.setState({charsSent:se.state.charsSent+n.length}),a.ok||se.setState({errors:!0});case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var de=function(e){Object(y.a)(n,e);var t=Object(v.a)(n);function n(){var e;Object(b.a)(this,n),e=t.call(this),se=Object(p.a)(e),e.session=ie(16);var a=localStorage.getItem("SKToken");null===a&&(a=ie(8),localStorage.setItem("SKToken",a));var r=localStorage.getItem("SKUsername");return e.state={username:null===r?"":r,token:a,loggedIn:!1,errors:!1,charsSent:!1},e}return Object(g.a)(n,[{key:"onLogin",value:function(){var e=Object(f.a)(m.a.mark((function e(){var t,n,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==(t=this.state.username)){e.next=4;break}return alert("Username must be non-empty"),e.abrupt("return");case 4:return e.next=6,fetch(oe+"/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,token:this.state.token})});case 6:return n=e.sent,e.next=9,n.json();case 9:a=e.sent,console.log("Login:",a),a.success?(localStorage.setItem("SKUsername",t),this.setState({loggedIn:!0},(function(){ue({kind:"login",version:"v0.0.19",bigTable:null===Q?null:Q.bigTable})}))):alert("Bad token! This username might already be taken. If you need to recover your login token contact Peter Schmidt-Nielsen.");case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onLogout",value:function(){var e=Object(f.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({loggedIn:!1});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return i.a.createElement("div",{style:{fontSize:"120%",margin:"10px",padding:"10px",border:"2px solid white",borderRadius:"8px",width:"450px",display:"inline-block",backgroundColor:this.state.loggedIn?"#696":"#777"}},i.a.createElement("span",{style:{fontSize:"120%"}},"Spyware Mode:"),i.a.createElement("br",null),this.state.loggedIn?i.a.createElement(i.a.Fragment,null,"Logged in as: ",i.a.createElement("span",{style:{fontFamily:"monospace",fontSize:"150%"}},this.state.username),i.a.createElement("button",{style:{marginLeft:"20px"},onClick:function(){return e.onLogout()}},"Logout"),i.a.createElement("br",null),"Events sent: ",le+1," \xa0\xa0\xa0 Chars sent: ",this.state.charsSent):i.a.createElement(i.a.Fragment,null,"Username: ",i.a.createElement("input",{"data-stop-shortcuts":!0,style:{width:"100px",fontFamily:"monospace"},value:this.state.username,onChange:function(t){return e.setState({username:t.target.value})}}),i.a.createElement("button",{style:{marginLeft:"20px"},onClick:function(){return e.onLogin()}},"Login")),i.a.createElement("br",null),i.a.createElement("div",{style:{marginTop:"20px"}},i.a.createElement(E.a,{trigger:i.a.createElement("div",{className:"clickable",style:{width:"200px",margin:"0px"}},"Access Token")},"Token: ",i.a.createElement("input",{"data-stop-shortcuts":!0,style:{width:"120px",marginRight:"20px"},value:this.state.token,onChange:function(t){return e.setState({token:t.target.value})}}),i.a.createElement("button",{onClick:function(){localStorage.setItem("SKToken",e.state.token)}},"Update Saved Token"),i.a.createElement("p",null,"The above token is generated just for you. Anyone who has the above token can submit data that will appear on the stats page for your username (so I recommend not showing it on stream). If you lose access to it you'll have to pick a new username, or ask ",i.a.createElement("a",{href:"mailto:schmidtnielsenpeter@gmail.com"},"Peter Schmidt-Nielsen")," to help you recover your access token. The token is automatically saved between sessions, but might be lost if you clear all your browser history. I recommend copying this token down somewhere."))),this.state.errors&&i.a.createElement("span",{style:{fontSize:"120%",color:"red"}},"Spyware reporting error!"))}}]),n}(i.a.Component);function me(e){for(var t=Math.round(8*Math.random()),n=Math.round(8*Math.random()),a=Math.random()<.5,r=[[t,n]],i=0;i<e-1;i++){var o=r[r.length-1],s=a?[o[0]+1,o[1]]:[o[0],o[1]+1];r.push(s)}return r}var pe=function(e){Object(y.a)(n,e);var t=Object(v.a)(n);function n(){var e;return Object(b.a)(this,n),(e=t.call(this)).state={grid:e.makeEmptyGrid(),selectedCell:null},e}return Object(g.a)(n,[{key:"makeEmptyGrid",value:function(){for(var e=[],t=0;t<8;t++)for(var n=0;n<8;n++)e[[n,t]]=".";return e}},{key:"clearBoard",value:function(){this.setState({grid:this.makeEmptyGrid(),selectedCell:null})}},{key:"onClick",value:function(e,t){if(null!==this.state.selectedCell){for(var n=Object(c.a)({},this.state.grid),a=!1,r=0,i=[2,3,4];r<i.length;r++)for(var o=i[r],s=0,l=[[1,0],[0,1],[-1,0],[0,-1]];s<l.length;s++){var d=Object(u.a)(l[s],2),m=d[0],p=d[1];if(this.state.selectedCell[0]===e+m*(o-1)&&this.state.selectedCell[1]===t+p*(o-1)){for(var h=0;h<8;h++)for(var f=0;f<8;f++)n[[f,h]]===""+o&&(n[[f,h]]=".");for(var b=0;b<o;b++)n[[e+b*m,t+b*p]]=""+o;a=!0}}for(var g={2:0,3:0,4:0,".":0},y=0;y<8;y++)for(var v=0;v<8;v++)g[n[[v,y]]]++;for(var S=0,k=[2,3,4];S<k.length;S++){var E=k[S];if(g[E]!==E)for(var w=0;w<8;w++)for(var x=0;x<8;x++)n[[x,w]]===""+E&&(n[[x,w]]=".")}a&&this.setState({grid:n}),this.setState({selectedCell:null})}else this.setState({selectedCell:[e,t]})}},{key:"getLayoutString",value:function(){for(var e="",t=0;t<8;t++)for(var n=0;n<8;n++)e+=this.state.grid[[n,t]];return e}},{key:"setStateFromLayoutString",value:function(e){for(var t=[],n=0;n<8;n++)for(var a=0;a<8;a++)t[[a,n]]=e[a+8*n];this.setState({grid:t})}},{key:"render",value:function(){var e=this,t=this.getLayoutString(),n=this.props.parent.boardIndices[t];void 0===n&&(n="waiting...");var a=function(t,n){return null!==e.state.selectedCell&&t===e.state.selectedCell[0]&&n===e.state.selectedCell[1]};return i.a.createElement("div",{style:{margin:"20px",display:"inline-block",color:"white"}},i.a.createElement("div",{style:{backgroundImage:'url("/web-sploosh-kaboom/board_background_square.png")',backgroundSize:"100% 100%",padding:"18px"}},Z(8).map((function(t){return i.a.createElement("div",{key:t,style:{display:"flex"}},Z(8).map((function(n){return i.a.createElement(X,{key:n+","+t,x:n,y:t,onClick:function(){return e.onClick(n,t)},text:e.state.grid[[n,t]],valid:!0,best:e.state.selectedCell,fontSize:"200%",opacity:a(n,t)||"."!==e.state.grid[[n,t]]?.6:.2,backgroundColor:"."===e.state.grid[[n,t]]?void 0:"green"})})))}))),i.a.createElement("br",null),"Squid Layout: ",n)}}]),n}(i.a.Component),he=null;setInterval((function(){null!==he&&he.forceUpdate()}),69);var fe=function(e){Object(y.a)(n,e);var t=Object(v.a)(n);function n(){var e;return Object(b.a)(this,n),e=t.call(this),he=Object(p.a)(e),e.state={previouslyAccumulatedSeconds:0,timerStartMS:0,timerRunning:!1,includesLoadingTheRoom:!0,includedRewardsGotten:0,invalidated:!1},e}return Object(g.a)(n,[{key:"toggleRunning",value:function(){var e=performance.now(),t=.001*(e-this.state.timerStartMS);ue({kind:"timer_toggleRunning",elapsed:t,oldState:this.state}),this.state.timerRunning&&this.setState({previouslyAccumulatedSeconds:this.state.previouslyAccumulatedSeconds+t}),this.setState({timerRunning:!this.state.timerRunning,timerStartMS:e})}},{key:"adjustRewards",value:function(e){ue({kind:"timer_adjustRewards",delta:e,oldState:this.state}),this.setState({includedRewardsGotten:Math.max(0,Math.min(2,this.state.includedRewardsGotten+e))})}},{key:"toggleLoadingTheRoom",value:function(){ue({kind:"timer_toggleLoadingTheRoom",oldState:this.state}),this.setState({includesLoadingTheRoom:!this.state.includesLoadingTheRoom})}},{key:"toggleInvalidated",value:function(){ue({kind:"timer_toggleInvalidated",oldState:this.state}),this.setState({invalidated:!this.state.invalidated})}},{key:"resetTimer",value:function(){ue({kind:"timer_resetTimer",oldState:this.state}),this.setState({previouslyAccumulatedSeconds:0,timerStartMS:performance.now(),timerRunning:!1})}},{key:"getSecondsElapsed",value:function(){var e=this.state.previouslyAccumulatedSeconds;this.state.timerRunning&&(e+=.001*(performance.now()-this.state.timerStartMS));return e}},{key:"guessStepsElapsedFromTime",value:function(e){var t=Number(this.props.timedTickIntercept)+Number(this.props.timedTickRate)*e;return this.state.includesLoadingTheRoom&&(t+=-940+Number(this.props.roomEnteredOffset)),t+=760*this.state.includedRewardsGotten,Math.round(t)}},{key:"render",value:function(){var e=this.getSecondsElapsed();return this.state.invalidated?i.a.createElement(i.a.Fragment,null,i.a.createElement("span",{style:{fontSize:"150%",color:"white",fontFamily:"monospace"}},"TIMER"),i.a.createElement("span",{style:{fontSize:"150%",color:"white",fontFamily:"monospace"}},"INVALIDATED")):i.a.createElement(i.a.Fragment,null,i.a.createElement("span",null,"\xa0Seconds elapsed: "),i.a.createElement("span",null,"\xa0",e.toFixed(2),"\xa0"),i.a.createElement("span",null,"\xa0Steps:\xa0"),i.a.createElement("span",null,"\xa0",this.guessStepsElapsedFromTime(e),"\xa0"),i.a.createElement("span",null,"\xa0Entered room:"),i.a.createElement("span",null,"\xa0",this.state.includesLoadingTheRoom?i.a.createElement("span",{style:{color:"green",textShadow:"0px 0px 2px white"}},"YES"):i.a.createElement("span",{style:{color:"red",textShadow:"0px 0px 2px white"}},"NO"),"\xa0"),i.a.createElement("span",null,"\xa0Rewards gotten:\xa0"),i.a.createElement("span",null,"\xa0",this.state.includedRewardsGotten,"\xa0"))}}]),n}(i.a.Component);var be={firstBoardStepsThousands:500,firstBoardStepsThousandsStdDev:500,nextBoardStepsThousands:7,nextBoardStepsThousandsStdDev:3,timedBoardStepsThousandsStdDev:.2,timedTickIntercept:156,timedTickRate:252,roomEnteredOffset:0},ge=function(e){Object(y.a)(n,e);var t=Object(v.a)(n);function n(){var e;return Object(b.a)(this,n),(e=t.call(this)).videoRef=i.a.createRef(),e.canvasRef=i.a.createRef(),e.outputCanvasRef=i.a.createRef(),e.hiddenAreaRef=i.a.createRef(),e.layoutDrawingBoardRefs=[i.a.createRef(),i.a.createRef(),i.a.createRef()],e.timerRef=i.a.createRef(),e.state=e.makeEmptyState(),Q=Object(p.a)(e),e.previouslyReadStates=[null,null,null],e}return Object(g.a)(n,[{key:"componentDidMount",value:function(){this.doComputation(this.state.grid,this.state.squidsGotten)}},{key:"makeEmptyGrid",value:function(){for(var e=[],t=0;t<8;t++)for(var n=0;n<8;n++)e[[n,t]]=null;return e}},{key:"makeEmptyState",value:function(){for(var e=[],t=0;t<8;t++)for(var n=0;n<8;n++)e[[n,t]]=0;var a={mode:"calculator",squidLayout:function(){for(var e={},t={},n=0,a=[2,3,4];n<a.length;n++)for(var r=a[n];;){var i,o=me(r),s=!0,l=Object(h.a)(o);try{for(l.s();!(i=l.n()).done;){var u=i.value;(u[0]>7||u[1]>7||!0===t[u])&&(s=!1)}}catch(m){l.e(m)}finally{l.f()}if(s){e["squid"+r]=o;var c,d=Object(h.a)(o);try{for(d.s();!(c=d.n()).done;){t[c.value]=!0}}catch(m){d.e(m)}finally{d.f()}break}}return e}(),grid:this.makeEmptyGrid(),squidsGotten:"unknown",undoBuffer:[],probs:e,best:[3,3],cursorBelief:[3,3],valid:!0,observationProb:1,lastComputationTime:-1,turboBlurboMode:!1,turboBlurboTiming:!1,showKeyShortcuts:!1,spywareMode:!1,timerStepEstimate:null,potentialMatches:[]},r=localStorage.getItem("SKSettings");if(null===r)r=be;else{r=JSON.parse(r);for(var i=0,o=Object.keys(be);i<o.length;i++){var s=o[i];s in r||(r[s]=be[s])}}var l=r;return Object(c.a)({},a,{},l)}},{key:"getConfigParams",value:function(){for(var e={},t=0,n=Object.keys(be);t<n.length;t++){var a=n[t];e[a]=Number(this.state[a])}return e}},{key:"saveConfigParams",value:function(){var e=this.getConfigParams();console.log("Saving config params:",e),localStorage.setItem("SKSettings",JSON.stringify(e))}},{key:"factoryResetConfigParams",value:function(){this.setState(be)}},{key:"initializeTurboBlurboMode",value:function(){var e=Object(f.a)(m.a.mark((function e(t){var n,a,r,i=this;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1===this.state.turboBlurboMode){e.next=2;break}return e.abrupt("return");case 2:return this.bigTable=t,this.setState({turboBlurboMode:"initializing"}),e.next=6,te();case 6:for(this.boardIndices=e.sent,this.boardIndexToLayoutString=new Array(Object.keys(this.boardIndices).length),n=0,a=Object.keys(this.boardIndices);n<a.length;n++)r=a[n],this.boardIndexToLayoutString[this.boardIndices[r]]=r;$(t?"/board_table_25M.bin":"/board_table_5M.bin",(function(e){i.boardTable=new Uint32Array(e),console.log("Board table length:",i.boardTable.length);var t,n=Object(h.a)(i.boardTable);try{for(n.s();!(t=n.n()).done;){var a=t.value;a>604583&&alert("BUG BUG BUG: Bad value in board table: "+a)}}catch(r){n.e(r)}finally{n.f()}L(i.boardTable),i.setState({turboBlurboMode:!0,squidsGotten:"0",mode:"calculator"})}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"findMatchingLocations",value:m.a.mark((function e(t,n,a){var r,i,o,s,l,u,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==t.length){e.next=4;break}return e.next=3,[];case 3:return e.abrupt("return");case 4:r=t[0],i=this.boardTable,o=Math.min(i.length,n+a),s=n;case 8:if(!(s<o)){e.next=30;break}if(i[s]!==r){e.next=27;break}l=Object(h.a)(this.findMatchingLocations(t.slice(1),s,5e4)),e.prev=11,l.s();case 13:if((u=l.n()).done){e.next=19;break}return c=u.value,e.next=17,[s].concat(Object(S.a)(c));case 17:e.next=13;break;case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(11),l.e(e.t0);case 24:return e.prev=24,l.f(),e.finish(24);case 27:s++,e.next=8;break;case 30:case"end":return e.stop()}}),e,this,[[11,21,24,27]])}))},{key:"recomputePotentialMatches",value:function(){var e,t=this.makeGameHistoryArguments(),n=Object(u.a)(t,3),a=n[0],r=(n[1],n[2],[]),i=Object(h.a)(this.findMatchingLocations(a,0,1e9));try{for(i.s();!(e=i.n()).done;){var o=e.value;r.push(o)}}catch(s){i.e(s)}finally{i.f()}ue({kind:"recomputePotentialMatches",matches:r}),0==r[0].length&&(r.length=0,r.push([null,null])),this.setState({potentialMatches:r})}},{key:"makeGameHistoryArguments",value:function(){var e,t=this,n=this.layoutDrawingBoardRefs.map((function(e){return t.boardIndices[e.current.getLayoutString()]})),a=[],r=Object(h.a)(n);try{for(r.s();!(e=r.n()).done;){var i=e.value;if(void 0===i)break;a.push(i)}}catch(m){r.e(m)}finally{r.f()}for(var o=[],s=[],l=!0,u=0,c=[].concat(a,[null]);u<c.length;u++){var d=c[u];if(void 0===d)break;l?(o.push(1e3*Number(this.state.firstBoardStepsThousands)),s.push(1e3*Number(this.state.firstBoardStepsThousandsStdDev))):null===d&&null!==this.state.timerStepEstimate&&this.state.turboBlurboTiming?(o.push(Math.max(0,this.state.timerStepEstimate)),s.push(1e3*Number(this.state.timedBoardStepsThousandsStdDev))):(o.push(1e3*Number(this.state.nextBoardStepsThousands)),s.push(1e3*Number(this.state.nextBoardStepsThousandsStdDev))),l=!1}return[Uint32Array.from(a),Uint32Array.from(o),Float64Array.from(s)]}},{key:"getGridStatistics",value:function(e,t){for(var n=[],a=[],r=0;r<8;r++)for(var i=0;i<8;i++){var o=e[[i,r]];"HIT"===o&&n.push(8*r+i),"MISS"===o&&a.push(8*r+i)}for(var s=-1,l=0,u=["0","1","2","3"];l<u.length;l++){var c=u[l];t!==c&&t!==Number(c)||(s=Number(c))}return{hits:n,misses:a,numericSquidsGotten:s}}},{key:"doComputation",value:function(){var e=Object(f.a)(m.a.mark((function e(t,n){var a,r,i,o,s,l,u,c,d,p,h,f,b,g,y,v,k,E,w;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Doing computation:",n,t),a=performance.now(),r=this.getGridStatistics(t,n),i=r.hits,o=r.misses,s=r.numericSquidsGotten,e.next=5,Y;case 5:if(u=null,this.state.turboBlurboMode?(u=this.makeGameHistoryArguments(),console.log("gameHistoryArguments:",u),l=G.apply(void 0,[Uint8Array.from(i),Uint8Array.from(o),s].concat(Object(S.a)(u)))):l=A(Uint8Array.from(i),Uint8Array.from(o),s,Uint32Array.from([]),Float64Array.from([])),c=!0,void 0!==l){for(d=0,p=0,h=-1,f=[],b=0;b<8;b++)for(g=0;g<8;g++)f[[g,b]]=l[8*b+g],m=this.state.cursorBelief,x=[g,b],y=Math.abs(m[0]-x[0])+Math.abs(m[1]-x[1]),v=1-.03*y,k=l[8*b+g]*v,null===t[[g,b]]&&k>h&&(h=k,p=g,d=b);E=l[64],this.setState({probs:f,best:h>=0?[p,d]:null,valid:c,observationProb:E})}else c=!1,this.setState({valid:c});w=performance.now(),this.setState({lastComputationTime:w-a}),ue({kind:"doComputation",grid:t,hits:i,misses:o,numericSquidsGotten:s,oldValid:this.state.valid,didWeConcludeTheSituationWasValid:c,probabilities:Array.from(l),turboBlurboMode:this.state.turboBlurboMode,turboBlurboTiming:this.state.turboBlurboTiming,gameHistoryArguments:null===u?[]:u.map((function(e){return Array.from(e)})),timerStepEstimate:this.state.timerStepEstimate,computationTime:(w-a)/1e3,configParams:this.getConfigParams()});case 12:case"end":return e.stop()}var m,x}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"copyToUndoBuffer",value:function(){this.setState({undoBuffer:[].concat(Object(S.a)(this.state.undoBuffer),[{grid:this.state.grid,squidsGotten:this.state.squidsGotten,cursorBelief:this.state.cursorBelief}])})}},{key:"onClick",value:function(e,t,n){ue({kind:"onClick",x:e,y:t,setAsHit:n});var a=Object(c.a)({},this.state.grid),r=a[[e,t]],i=this.state.squidsGotten;if(this.copyToUndoBuffer(),"calculator"===this.state.mode){switch(r){case null:r=n?"HIT":"MISS";break;case"MISS":r="HIT";break;case"HIT":r=null}a[[e,t]]=r}else{if(null!==r)return;r=function(n){var a,r=Object(h.a)(n);try{for(r.s();!(a=r.n()).done;){var i=a.value;if(i[0]===e&&i[1]===t)return!0}}catch(o){r.e(o)}finally{r.f()}return!1}([].concat(Object(S.a)(this.state.squidLayout.squid2),Object(S.a)(this.state.squidLayout.squid3),Object(S.a)(this.state.squidLayout.squid4)))?"HIT":"MISS",a[[e,t]]=r,i=0;for(var o=0,s=["2","3","4"];o<s.length;o++){var l,u=s[o],d=this.state.squidLayout["squid"+u],m=!0,p=Object(h.a)(d);try{for(p.s();!(l=p.n()).done;){"HIT"!==a[l.value]&&(m=!1)}}catch(f){p.e(f)}finally{p.f()}i+=m}this.setState({squidsGotten:i})}this.setState({grid:a,cursorBelief:[e,t]}),this.doComputation(a,i)}},{key:"clearField",value:function(){ue({kind:"clearField"});for(var e=this.makeEmptyState(),t={},n=0,a=["squidLayout","grid","squidsGotten","undoBuffer","cursorBelief"];n<a.length;n++){var r=a[n];t[r]=e[r]}this.state.turboBlurboMode&&(t.squidsGotten="0"),this.setState(t),this.doComputation(t.grid,t.squidsGotten)}},{key:"undoLastMarking",value:function(){var e=Object(S.a)(this.state.undoBuffer);if(0!==e.length){var t=e.pop();ue({kind:"undoLastMarking",undoEntry:t}),this.setState({grid:t.grid,squidsGotten:t.squidsGotten,cursorBelief:t.cursorBelief,undoBuffer:e}),this.doComputation(t.grid,t.squidsGotten)}}},{key:"reportMiss",value:function(){null!==this.state.best&&null===this.state.grid[this.state.best]&&(ue({kind:"reportMiss",best:this.state.best,oldGrid:this.state.grid}),this.onClick.apply(this,Object(S.a)(this.state.best)))}},{key:"reportHit",value:function(){if(null!==this.state.best&&null===this.state.grid[this.state.best]){ue({kind:"reportHit",best:this.state.best,oldGrid:this.state.grid}),this.onClick.apply(this,Object(S.a)(this.state.best).concat([!0]));var e=this.getGridStatistics(this.state.grid,this.state.squidsGotten),t=e.hits;e.misses,e.numericSquidsGotten;9===t.length&&this.incrementKills()}}},{key:"splitTimer",value:function(){var e=this.timerRef.current;if(null!==e){var t=e.getSecondsElapsed(),n=e.state.invalidated?null:e.guessStepsElapsedFromTime(t);this.setState({timerStepEstimate:n}),console.log("Timer step estimate:",n),ue({kind:"splitTimer",invalidated:e.state.invalidated,timerStepEstimate:n,elapsed:t}),e.setState({previouslyAccumulatedSeconds:0,timerStartMS:performance.now(),includesLoadingTheRoom:!1,includedRewardsGotten:0,timerRunning:!0,invalidated:!1}),this.doComputation(this.state.grid,this.state.squidsGotten)}}},{key:"incrementKills",value:function(){var e=Object(f.a)(m.a.mark((function e(){var t,n,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.copyToUndoBuffer(),t="unknown"===this.state.squidsGotten?0:Number(this.state.squidsGotten),n=this.state.grid,4!==++t){e.next=11;break}return a=this.makeGameHistoryArguments(),this.splitTimer(),e.next=9,this.copyToHistory(a);case 9:e.sent?(t=0,n=this.makeEmptyGrid(),this.setState({undoBuffer:[],cursorBelief:[3,3]})):t=3;case 11:ue({kind:"incrementKills",oldGrid:this.state.grid,newGrid:n,newNumericValue:t}),this.setState({grid:n,squidsGotten:""+t}),this.doComputation(n,""+t);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"copyToHistory",value:function(){var e=Object(f.a)(m.a.mark((function e(t){var n,a,r,i,o,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.getGridStatistics(this.state.grid,this.state.squidsGotten),a=n.hits,void 0===t&&(t=this.makeGameHistoryArguments()),e.next=4,Y;case 4:if(void 0!==(r=z.apply(void 0,[Uint8Array.from(a)].concat(Object(S.a)(t))))){e.next=8;break}return ue({kind:"ambiguousCopyToHistory",grid:this.state.grid,squidsGotten:this.state.squidsGotten,gameHistoryArguments:t.map((function(e){return Array.from(e)}))}),e.abrupt("return",!1);case 8:return console.log("Final board:",r),ue({kind:"copyToHistory",squidLayout:r}),i=this.boardIndexToLayoutString[r],o=t[0],(s=o.length)===this.layoutDrawingBoardRefs.length&&(this.shiftHistory(),s--),this.layoutDrawingBoardRefs[s].current.setStateFromLayoutString(i),e.abrupt("return",!0);case 16:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"shiftHistory",value:function(){ue({kind:"shiftHistory"});for(var e=this.layoutDrawingBoardRefs.map((function(e){return e.current})),t=0;t<e.length-1;t++)e[t].setState(e[t+1].state);e[e.length-1].clearBoard()}},{key:"renderActualMap",value:function(e){var t=this;return i.a.createElement("div",{style:{justifySelf:"center"}},Z(8).map((function(n){return i.a.createElement("div",{key:n,style:{display:"flex"}},Z(8).map((function(a){return i.a.createElement(X,{key:a+","+n,x:a,y:n,onClick:function(){return t.onClick(a,n)},text:t.state.grid[[a,n]],prob:t.state.probs[[a,n]],valid:t.state.valid,best:t.state.best,precision:e?0:2,opacity:e?.5+.3*t.state.probs[[a,n]]:void 0})})))})))}},{key:"renderOverlayMap",value:function(){if(this.state.doVideoProcessing)return i.a.createElement("div",{style:{position:"absolute",top:"210px",left:"127px",transform:"scale(1.01, 1.05)",zIndex:20,display:"inline-block"}},this.renderActualMap(!0))}},{key:"render",value:function(){for(var e=this,t=0,n=!0,a=0;a<8;a++)for(var r=0;r<8;r++)null!==this.state.grid[[r,a]]&&(t++,"HIT"===this.state.grid[[r,a]]&&(n=!1));return i.a.createElement("div",{style:{margin:"20px",color:"white"}},i.a.createElement("div",{className:"container"},i.a.createElement("div",{style:{justifySelf:"end",alignSelf:"start"}},i.a.createElement("div",{className:"tableContainer",style:{gridTemplateColumns:"repeat(2, 1fr)"}},i.a.createElement("span",null,i.a.createElement("strong",null,"\xa0Item\xa0")),i.a.createElement("span",null,i.a.createElement("strong",null,"\xa0Value\xa0")),i.a.createElement("span",null,"\xa0Shots used:\xa0"),i.a.createElement("span",null,"\xa0",t,"\xa0"),this.state.turboBlurboMode&&this.state.turboBlurboTiming&&i.a.createElement(i.a.Fragment,null,i.a.createElement(fe,{ref:this.timerRef,roomEnteredOffset:this.state.roomEnteredOffset,timedTickIntercept:this.state.timedTickIntercept,timedTickRate:this.state.timedTickRate}),i.a.createElement("span",null,"\xa0Last steps:\xa0"),i.a.createElement("span",null,"\xa0",null===this.state.timerStepEstimate?"-":this.state.timerStepEstimate,"\xa0")),this.state.turboBlurboMode&&this.state.turboBlurboTiming&&this.state.showKeyShortcuts&&i.a.createElement(i.a.Fragment,null,i.a.createElement("span",null,i.a.createElement("strong",null,"\xa0Control\xa0")),i.a.createElement("span",null,i.a.createElement("strong",null,"\xa0Shortcut\xa0")),i.a.createElement("span",null,"\xa0Toggle Timer\xa0"),i.a.createElement("span",null,"\xa0Space\xa0"),i.a.createElement("span",null,"\xa0Add Reward\xa0"),i.a.createElement("span",null,"\xa0,\xa0"),i.a.createElement("span",null,"\xa0Remove Reward\xa0"),i.a.createElement("span",null,"\xa0<\xa0"),i.a.createElement("span",null,"\xa0Toggle Room Entered\xa0"),i.a.createElement("span",null,"\xa0m\xa0"),i.a.createElement("span",null,"\xa0Invalidate Timer\xa0"),i.a.createElement("span",null,"\xa0;\xa0"),i.a.createElement("span",null,"\xa0Reset Timer\xa0"),i.a.createElement("span",null,"\xa0:\xa0"),i.a.createElement("span",null,"\xa0Split Timer\xa0"),i.a.createElement("span",null,"\xa0s\xa0"))),this.state.turboBlurboMode&&this.state.turboBlurboTiming&&i.a.createElement(i.a.Fragment,null,i.a.createElement("button",{style:{fontSize:"120%",margin:"10px"},onClick:function(){e.setState({showKeyShortcuts:!e.state.showKeyShortcuts})}},"Toggle Show Shortcuts"),i.a.createElement("br",null),i.a.createElement("button",{style:{fontSize:"120%",margin:"10px"},onClick:function(){e.setState({spywareMode:!e.state.spywareMode})}},this.state.spywareMode?i.a.createElement(i.a.Fragment,null,"Disable Spyware Mode"):i.a.createElement(i.a.Fragment,null,"Enable Spyware Mode")))),this.state.doVideoProcessing||this.renderActualMap(!1),i.a.createElement("span",{style:{display:"inline-block"}})),this.state.valid||this.state.turboBlurboMode||i.a.createElement("div",{style:{fontSize:"150%",color:"white"}},"Invalid configuration! This is not possible."),i.a.createElement("br",null),i.a.createElement("div",{style:{fontSize:"150%"}},i.a.createElement("span",{style:{color:"white"}},"Number of squids killed:"),i.a.createElement("select",{style:{marginLeft:"20px",fontSize:"100%"},value:this.state.squidsGotten,onChange:function(t){e.setState({squidsGotten:t.target.value}),e.doComputation(e.state.grid,t.target.value)}},this.state.turboBlurboMode||i.a.createElement("option",{value:"unknown"},"Unknown"),i.a.createElement("option",{value:"0"},"0"),i.a.createElement("option",{value:"1"},"1"),i.a.createElement("option",{value:"2"},"2"),i.a.createElement("option",{value:"3"},"3")),i.a.createElement("br",null)),i.a.createElement("br",null),this.state.turboBlurboMode&&i.a.createElement(i.a.Fragment,null,i.a.createElement("button",{style:{fontSize:"150%",margin:"10px"},onClick:function(){e.reportMiss()}},"Miss (z)"),i.a.createElement("button",{style:{fontSize:"150%",margin:"10px"},onClick:function(){e.reportHit()}},"Hit (x)"),i.a.createElement("button",{style:{fontSize:"150%",margin:"10px"},onClick:function(){e.copyToHistory()}},"Copy to History (h)"),i.a.createElement("button",{style:{fontSize:"150%",margin:"10px"},onClick:function(){e.shiftHistory()}},"Shift History")),i.a.createElement("button",{style:{fontSize:"150%",margin:"10px"},onClick:function(){e.incrementKills()}},"Increment Kills (c)"),i.a.createElement("button",{style:{fontSize:"150%",margin:"10px"},onClick:function(){e.clearField()}},"Reset"),this.state.turboBlurboMode||i.a.createElement("select",{style:{marginLeft:"20px",fontSize:"150%"},value:this.state.mode,onChange:function(t){return e.setState({mode:t.target.value})}},i.a.createElement("option",{value:"calculator"},"Calculator Mode"),i.a.createElement("option",{value:"practice"},"Practice Mode")),this.state.turboBlurboMode&&i.a.createElement("div",{style:{display:"inline-block",margin:"10px",border:"1px solid white",borderRadius:"5px",fontSize:"130%",padding:"5px"}},i.a.createElement("span",{style:{margin:"5px"}},"Timer mode:"),i.a.createElement("input",{type:"checkbox",checked:this.state.turboBlurboTiming,onChange:function(t){return e.setState({turboBlurboTiming:!e.state.turboBlurboTiming})},style:{margin:"10px",transform:"scale(2)"}})),i.a.createElement("br",null),n&&"calculator"===this.state.mode&&!this.state.turboBlurboMode&&i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{style:{color:"white",fontSize:"120%",marginTop:"20px"}},"Opening optimizer: Probability that this",i.a.createElement("br",null),"pattern would get at least one hit: ",this.state.valid?(100*Math.max(0,1-this.state.observationProb)).toFixed(2)+"%":"Invalid")),i.a.createElement("br",null),"initializing"===this.state.turboBlurboMode&&i.a.createElement("div",{style:{fontSize:"150%",color:"white"}},"Downloading table...",i.a.createElement("br",null)),!0===this.state.turboBlurboMode&&i.a.createElement(i.a.Fragment,null,i.a.createElement("div",null,this.layoutDrawingBoardRefs.map((function(t,n){return i.a.createElement(pe,{parent:e,ref:t,key:n})}))),i.a.createElement("hr",null),i.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr auto 1fr"}},i.a.createElement("div",{style:{display:"grid",gridTemplateRows:"1fr 1fr 1fr",gridTemplateColumns:"repeat(8, 1fr)",justifyItems:"center",alignItems:"true",gridColumn:"2"}},i.a.createElement("div",{style:{gridRow:"1",gridColumn:"1 / span 8"}},"Gaussian RNG step count beliefs (all counts in ",i.a.createElement("i",null,"thousands"),' of steps, except "Room entered offset"):'),i.a.createElement("div",{style:{gridRow:"2",gridColumn:"1"}},"First board mean:     "),i.a.createElement("input",{style:{width:"60px",fontSize:"120%",gridRow:"2",gridColumn:"2"},value:this.state.firstBoardStepsThousands,onChange:function(t){return e.setState({firstBoardStepsThousands:t.target.value})}}),i.a.createElement("div",{style:{gridRow:"2",gridColumn:"3"}},"First board stddev:   "),i.a.createElement("input",{style:{width:"60px",fontSize:"120%",gridRow:"2",gridColumn:"4"},value:this.state.firstBoardStepsThousandsStdDev,onChange:function(t){return e.setState({firstBoardStepsThousandsStdDev:t.target.value})}}),i.a.createElement("div",{style:{gridRow:"2",gridColumn:"5"}},"Next board mean:      "),i.a.createElement("input",{style:{width:"60px",fontSize:"120%",gridRow:"2",gridColumn:"6"},value:this.state.nextBoardStepsThousands,onChange:function(t){return e.setState({nextBoardStepsThousands:t.target.value})}}),i.a.createElement("div",{style:{gridRow:"2",gridColumn:"7"}},"Next board stddev:    "),i.a.createElement("input",{style:{width:"60px",fontSize:"120%",gridRow:"2",gridColumn:"8"},value:this.state.nextBoardStepsThousandsStdDev,onChange:function(t){return e.setState({nextBoardStepsThousandsStdDev:t.target.value})}}),i.a.createElement("div",{style:{gridRow:"3",gridColumn:"1"}},"Timed board stddev:   "),i.a.createElement("input",{style:{width:"60px",fontSize:"120%",gridRow:"3",gridColumn:"2"},value:this.state.timedBoardStepsThousandsStdDev,onChange:function(t){return e.setState({timedBoardStepsThousandsStdDev:t.target.value})}}),i.a.createElement("div",{style:{gridRow:"3",gridColumn:"3"}},"Timed Tick Intercept: "),i.a.createElement("input",{style:{width:"60px",fontSize:"120%",gridRow:"3",gridColumn:"4"},value:this.state.timedTickIntercept,onChange:function(t){return e.setState({timedTickIntercept:t.target.value})}}),i.a.createElement("div",{style:{gridRow:"3",gridColumn:"5"}},"Timed Tick Rate:      "),i.a.createElement("input",{style:{width:"60px",fontSize:"120%",gridRow:"3",gridColumn:"6"},value:this.state.timedTickRate,onChange:function(t){return e.setState({timedTickRate:t.target.value})}}),i.a.createElement("div",{style:{gridRow:"3",gridColumn:"7"}},"Room entered offset:  "),i.a.createElement("input",{style:{width:"60px",fontSize:"120%",gridRow:"3",gridColumn:"8"},value:this.state.roomEnteredOffset,onChange:function(t){return e.setState({roomEnteredOffset:t.target.value})}}))),i.a.createElement("button",{style:{fontSize:"150%",margin:"10px"},onClick:function(){e.saveConfigParams()}},"Save Settings")," \xa0",i.a.createElement("button",{style:{fontSize:"150%",margin:"10px"},onClick:function(){e.factoryResetConfigParams()}},"Reset to Defaults"),i.a.createElement("br",null),i.a.createElement("div",{style:{margin:"20px",color:"white",fontSize:"130%",border:"2px solid white",borderRadius:"8px",width:"400px",minHeight:"20px",display:"inline-block"}},this.state.potentialMatches.map((function(e,t){if(null===e[0])return i.a.createElement("div",{key:0},"No Matches Found!");var n=e.slice(1);return i.a.createElement("div",{key:t},"Potential match: ",e[0],n.map((function(t,n){return i.a.createElement(i.a.Fragment,null," +",t-e[n])})))}))),i.a.createElement("br",null),i.a.createElement("button",{style:{fontSize:"150%",margin:"10px"},onClick:function(){e.recomputePotentialMatches()}},"Find Match Indices"),i.a.createElement("div",{style:{fontSize:"150%",color:"white"}},"Turbo blurbo mode initialized.",i.a.createElement("br",null))),i.a.createElement("button",{disabled:!1!==this.state.turboBlurboMode,style:{fontSize:"150%",margin:"10px"},onClick:function(){e.initializeTurboBlurboMode(!1)}},"Initialize Turbo Blurbo Mode"),i.a.createElement("br",null),i.a.createElement("button",{disabled:!1!==this.state.turboBlurboMode,style:{fontSize:"150%",margin:"10px"},onClick:function(){e.initializeTurboBlurboMode(!0)}},"Initialize Turbo Blurbo Mode (big table)"),i.a.createElement("br",null),this.state.spywareMode&&i.a.createElement(i.a.Fragment,null,i.a.createElement(de,null),i.a.createElement("br",null)),i.a.createElement("span",{style:{color:"white"}},"Last recompute time: ",this.state.lastComputationTime.toFixed(2),"ms"),i.a.createElement("div",{style:{display:"none"},ref:this.hiddenAreaRef}))}}]),n}(i.a.Component);document.addEventListener("keydown",(function(e){if(!(e.target&&"getAttribute"in e.target&&e.target.getAttribute("data-stop-shortcuts"))){var t=e.key.toLowerCase();"z"===t&&e.ctrlKey?Q.undoLastMarking():"z"!==t&&"y"!==t||null===Q||Q.reportMiss(),"x"===t.lower&&null!==Q&&Q.reportHit(),"c"===t&&null!==Q&&Q.incrementKills(),"s"===t&&null!==Q&&Q.splitTimer(),"h"===t&&null!==Q&&Q.copyToHistory()," "===t&&null!==he&&(he.toggleRunning(),e.preventDefault()),","===t&&null!==he&&he.adjustRewards(1),"<"===t&&null!==he&&he.adjustRewards(-1),"m"===t&&null!==he&&he.toggleLoadingTheRoom(),";"===t&&null!==he&&he.toggleInvalidated(),":"===t&&null!==he&&he.resetTimer()}}));var ye=function(e){Object(y.a)(n,e);var t=Object(v.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(g.a)(n,[{key:"componentDidMount",value:function(){document.body.style.backgroundColor="#666"}},{key:"render",value:function(){return i.a.createElement("div",{style:{textAlign:"center"}},i.a.createElement("div",{style:{display:"inline-block",width:"600px"}},i.a.createElement("h1",{style:{color:"white"}},"Sploosh Kaboom Probability Calculator"),i.a.createElement("p",{style:{color:"white"}},"This is a tool for computing the likely locations of squids in the sploosh kaboom minigame of The Legend of Zelda: The Wind Waker (both SD and HD versions). Unfortunately it's currently pretty complicated to use correctly. A collection of tutorials will be compiled at some point, hopefully soon. For now, see the ",i.a.createElement("a",{href:"https://github.com/petersn/web-sploosh-kaboom"},"GitHub repository"),".")),i.a.createElement(ge,null),i.a.createElement("span",{style:{color:"white"}},"Made by Peter Schmidt-Nielsen, CryZe and csunday95 (","v0.0.19",")"),i.a.createElement("br",null),i.a.createElement("span",{style:{color:"white"}}))}}]),n}(i.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(ye,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[18,1,2]]]);
//# sourceMappingURL=main.45fdc048.chunk.js.map